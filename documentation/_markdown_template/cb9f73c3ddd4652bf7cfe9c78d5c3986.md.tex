\markdownRendererHeadingOne{Terraform}\markdownRendererInterblockSeparator
{}\markdownRendererHeadingTwo{Prerequisites}\markdownRendererInterblockSeparator
{}This script assumes you already have a router with a specific ID in openstack\markdownRendererLineBreak
{}Change the ID in \markdownRendererCodeSpan{terraform/variables.tf} to match yours.\markdownRendererLineBreak
{}It also assumes that you have a ssh key-pair on openstack named \markdownRendererCodeSpan{Nietzsche},\markdownRendererLineBreak
{}aswell as the private key named \markdownRendererCodeSpan{id\markdownRendererUnderscore{}rsa} in \markdownRendererCodeSpan{ansible/.ssh/id\markdownRendererUnderscore{}rsa} You will also need to replace the set ip in the security group allowing ssh from WAN.\markdownRendererInterblockSeparator
{}In order to give your credentials to openstack\markdownRendererLineBreak
{}you will need to source the project-script from openstack before running terraform commands.\markdownRendererInterblockSeparator
{}\markdownRendererHeadingTwo{Usage}\markdownRendererInterblockSeparator
{}\markdownRendererHeadingThree{First time}\markdownRendererInterblockSeparator
{}\markdownRendererCodeSpan{terraform init}\markdownRendererInterblockSeparator
{}\markdownRendererHeadingThree{Build}\markdownRendererInterblockSeparator
{}\markdownRendererCodeSpan{terraform apply -auto-approve}\markdownRendererInterblockSeparator
{}For some reason, terraform needs to run the apply command twice to actually set the security groups. \markdownRendererInterblockSeparator
{}This will make the file-transfer a bit weird.\markdownRendererLineBreak
{}Terraform is going to time-out on trying to ssh into the machine "AnsibleMaster",\markdownRendererLineBreak
{}you can cancel this with \markdownRendererCodeSpan{\markdownRendererCircumflex{}c} and re-run the the apply command. \markdownRendererInterblockSeparator
{}This will set the security groups, and make it possible to transfer the files over ssh. \markdownRendererInterblockSeparator
{}\markdownRendererHeadingThree{Destroy}\markdownRendererInterblockSeparator
{}\markdownRendererCodeSpan{terraform destroy}\markdownRendererInterblockSeparator
{}\markdownRendererHeadingTwo{Future features}\markdownRendererInterblockSeparator
{}\markdownRendererHeadingThree{Volumes}\markdownRendererInterblockSeparator
{}We want to link volumes to some machines, to be able to have persistant data, and logs.\markdownRendererLineBreak
{}The idea is to take snapshots of the important data and our logs,\markdownRendererLineBreak
{}and have those snapshots on rolling backups.\markdownRendererInterblockSeparator
{}\markdownRendererHeadingThree{VPN}\markdownRendererInterblockSeparator
{}We want to set up a VPN server/service so that a 'client'\markdownRendererLineBreak
{}can work inside the cloud as if you were connected in an office.\relax